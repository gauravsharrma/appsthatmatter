<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ChatGPT / Gemini / Perplexity Prompt Settings Generator</title>
  <meta name="description" content="Generate and customize prompt settings for ChatGPT, Gemini, and Perplexity AI with this modern, responsive, mobile-first tool." />
  <meta name="keywords" content="ChatGPT prompts, Gemini prompts, Perplexity settings, prompt generator, AI prompt builder, prompt customization, SEO prompts, prompt design tool" />
  <meta name="author" content="Prompt Toolkit" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Merriweather', serif; }
    .neumorphic {
      background: #e0e0e0;
      border-radius: 1rem;
      box-shadow: 8px 8px 16px #bebebe,
                  -8px -8px 16px #ffffff;
    }
    .neumorphic-inset {
      box-shadow: inset 6px 6px 12px #bebebe,
                  inset -6px -6px 12px #ffffff;
    }
    button.selected {
      background-color: #60a5fa !important;
      color: white !important;
    }
    header {
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .floating-btn {
      position: fixed;
      right: 1rem;
      background: #60a5fa;
      color: white;
      padding: 0.5rem 0.75rem;
      border-radius: 9999px;
      font-size: 1.25rem;
      box-shadow: 2px 2px 8px #999;
      z-index: 50;
    }
    .top-btn { bottom: 5rem; }
    .bottom-btn { bottom: 1rem; }
    @media (min-width: 1024px) {
      .scroll-pane {
        max-height: calc(100vh - 150px);
        overflow-y: auto;
      }
    }
  </style>
</head>
<body class="bg-[#e0e0e0] text-gray-800 min-h-screen">
  <header class="bg-[#e0e0e0] neumorphic px-4 py-3 flex flex-col gap-2 justify-between items-center w-full shadow-md">
    <h1 class="text-lg sm:text-xl font-bold text-center">ChatGPT / Gemini / Perplexity Prompt Settings</h1>
    <div class="flex flex-col sm:flex-row gap-2 w-full items-center">
      <input type="file" id="fileInput" accept=".xlsx" class="p-2 rounded neumorphic-inset w-full" />
      <button onclick="copyOutput()" class="px-4 py-2 rounded neumorphic hover:bg-blue-500 hover:text-white w-full">Copy Settings</button>
    </div>
  </header>

  <main class="p-4">
    <div class="flex flex-col lg:flex-row gap-4">
      <!-- Left: Settings -->
      <section class="neumorphic p-4 sm:p-6 flex-1 scroll-pane">
        <h2 class="text-lg sm:text-xl font-bold mb-4">Choose Settings</h2>
        <div id="settingsContainer" class="space-y-6"></div>
      </section>

      <!-- Right: Output -->
      <section class="neumorphic p-4 sm:p-6 flex-1 flex flex-col scroll-pane">
        <h2 class="text-lg sm:text-xl font-semibold mb-4">Prompt Settings Output</h2>
        <textarea id="outputText" class="min-h-[200px] flex-grow w-full p-3 rounded neumorphic-inset resize-none font-mono text-sm" readonly></textarea>
      </section>
    </div>
  </main>

  <!-- Floating Scroll Buttons -->
  <button class="floating-btn top-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">⬆</button>
  <button class="floating-btn bottom-btn" onclick="window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'})">⬇</button>

  <script>
    const fileInput = document.getElementById('fileInput');
    const settingsContainer = document.getElementById('settingsContainer');
    const outputText = document.getElementById('outputText');
    let selectedOptions = {};

    fileInput.addEventListener('change', handleFile);

    function handleFile(e) {
      const file = e.target.files[0];
      const reader = new FileReader();
      reader.onload = function (evt) {
        const data = new Uint8Array(evt.target.result);
        const workbook = XLSX.read(data, { type: 'array' });
        const sheetName = workbook.SheetNames[0];
        const sheet = workbook.Sheets[sheetName];
        const json = XLSX.utils.sheet_to_json(sheet, { defval: '' });
        buildSettings(json);
      };
      reader.readAsArrayBuffer(file);
    }

    function buildSettings(data) {
      settingsContainer.innerHTML = '';
      selectedOptions = {};
      data.forEach(row => {
        const settingName = row['Prompt Setting'];
        if (!settingName) return;
        const options = Object.values(row).slice(1, 9).filter(val => val);

        const wrapper = document.createElement('div');
        const label = document.createElement('label');
        label.className = 'block font-medium text-gray-700 mb-2';
        label.textContent = settingName;

        const optionsList = document.createElement('div');
        optionsList.className = 'flex flex-wrap gap-2';

        selectedOptions[settingName] = [];

        options.forEach(option => {
          const btn = document.createElement('button');
          btn.textContent = option;
          btn.className = 'px-3 py-1 rounded neumorphic hover:bg-blue-100';
          btn.onclick = () => {
            const index = selectedOptions[settingName].indexOf(option);
            if (index > -1) {
              selectedOptions[settingName].splice(index, 1);
              btn.classList.remove('selected');
            } else {
              selectedOptions[settingName].push(option);
              btn.classList.add('selected');
            }
            updateOutput();
          };
          optionsList.appendChild(btn);
        });

        wrapper.appendChild(label);
        wrapper.appendChild(optionsList);
        settingsContainer.appendChild(wrapper);
      });
    }

    function updateOutput() {
      let output = '';
      for (const [key, values] of Object.entries(selectedOptions)) {
        if (values.length > 0) {
          output += `${key}: ${values.join(", ")}\n`;
        }
      }
      outputText.value = output.trim();
    }

    function copyOutput() {
      navigator.clipboard.writeText(outputText.value);
      alert("Copied to clipboard!");
    }
  </script>
</body>
</html>
