<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Apps That Matter: Discover and launch powerful web apps like Prompt Settings Generator, Markdown Reader, EMI Calculator, BMI Calculator, Post-It Notes, and more. Responsive, SEO-optimized, mobile-first design with neumorphic UI." />
    <meta name="keywords" content="web apps, AI tools, prompt generator, markdown reader, EMI calculator, BMI calculator, post-it notes, neumorphic UI, responsive, social sharing, viral loop, referral" />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="Apps That Matter - Home" />
    <meta property="og:description" content="Explore our curated collection of useful web apps for productivity, writing, finance, health, and quick notes." />
    <meta property="og:url" content="https://appsthatmatter.onrender.com/" />
    <title>Apps That Matter | Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Merriweather', serif; background: #e0e5ec; transition: background-color 0.3s, color 0.3s; }
        .neumorphic { background: #e0e5ec; border-radius: 20px; box-shadow: 8px 8px 16px #bebebe, -8px -8px 16px #ffffff; transition: background-color 0.3s, box-shadow 0.3s; }
        .neumorphic-inset { box-shadow: inset 8px 8px 16px #bebebe, inset -8px -8px 16px #ffffff; transition: box-shadow 0.3s; }
        .share-btn:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 10;
        }
        /* Reward: Dark Mode */
        body.dark-mode {
            background-color: #2c2c2c;
            color: #e0e5ec;
        }
        body.dark-mode .neumorphic {
            background: #2c2c2c;
            box-shadow: 8px 8px 16px #222222, -8px -8px 16px #363636;
        }
        body.dark-mode .neumorphic-inset {
            background: #2c2c2c;
            box-shadow: inset 8px 8px 16px #222222, inset -8px -8px 16px #363636;
        }
    </style>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3REF964SMG"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-3REF964SMG');
    </script>
</head>
<body class="min-h-screen px-4 md:px-10 py-8">

    <div class="hidden lg:flex fixed top-1/2 -translate-y-1/2 right-4 flex-col space-y-2 z-30">
        <a href="#" class="share-btn social-link neumorphic p-3 rounded-full hover:bg-gray-200 transition relative" data-network="whatsapp" data-tooltip="üî• Share on WhatsApp"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-circle"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg></a>
        <a href="#" class="share-btn social-link neumorphic p-3 rounded-full hover:bg-gray-200 transition relative" data-network="twitter" data-tooltip="üî• Share on X"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
        <button id="copyBtnFloating" class="share-btn neumorphic p-3 rounded-full hover:bg-gray-200 transition relative" data-tooltip="üî• Copy Link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button>
    </div>

    <header class="fixed top-0 w-full z-20 neumorphic py-4">
        <div class="max-w-7xl mx-auto text-center">
            <a href="index.html" class="text-2xl font-bold hover:underline">Apps That Matter</a>
        </div>
        <div class="mt-4">
            <div class="max-w-2xl mx-auto flex flex-col sm:flex-row items-center gap-4 justify-center">
                <div class="flex items-center space-x-2"><label for="categoryFilter" class="font-semibold">Filter:</label><select id="categoryFilter" class="neumorphic-inset px-3 py-2 rounded-lg"><option value="all">All</option><option value="AI Tools">AI Tools</option><option value="Utilities">Utilities</option><option value="Writing">Writing</option><option value="Finance">Finance</option></select></div>
                <input id="search" type="text" placeholder="Search apps..." class="neumorphic-inset px-4 py-2 rounded-lg w-full sm:w-64" />
            </div>
        </div>
    </header>

    <main class="pt-36 max-w-screen-xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        </main>

    <section id="viral-loop-section" class="neumorphic p-6 mt-12 max-w-2xl mx-auto rounded-xl text-center">
        <h3 class="text-2xl font-bold">üéÅ Invite 3 Friends to Unlock Pro Features!</h3>
        <p class="mt-2 text-gray-600">Unlock awesome rewards like **Dark Mode** and access to premium content.</p>
        
        <div class="mt-6">
            <label for="referralLink" class="font-semibold text-left block">Your Unique Referral Link:</label>
            <div class="flex flex-col sm:flex-row gap-2 mt-1">
                <input type="text" id="referralLink" readonly class="w-full p-3 neumorphic-inset rounded-lg bg-gray-100 text-sm" value="Generating link...">
                <button id="copyReferralBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg neumorphic transition whitespace-nowrap">üìã Copy Link</button>
            </div>
        </div>

        <div class="mt-4 flex items-center justify-center gap-3">
            <p class="font-semibold">Share via:</p>
            <a href="#" id="ref-whatsapp" class="referral-share-link neumorphic p-3 rounded-full hover:bg-gray-200 transition" title="Share on WhatsApp"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-circle"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg></a>
            <a href="#" id="ref-twitter" class="referral-share-link neumorphic p-3 rounded-full hover:bg-gray-200 transition" title="Share on X"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
            <a href="#" id="ref-email" class="referral-share-link neumorphic p-3 rounded-full hover:bg-gray-200 transition" title="Share via Email"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
        </div>
        
        <div class="mt-6">
            <div id="progress-text" class="font-semibold mb-2">Your Progress: 0/3 Friends Invited</div>
            <div class="w-full bg-gray-200 rounded-full h-4 neumorphic-inset">
                <div id="progress-bar" class="bg-green-500 h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <div id="reward-unlocked" class="hidden mt-4 text-2xl font-bold text-green-500">üéâ Dark Mode Unlocked! üéâ</div>
        </div>

        <button id="simulate-referral" class="mt-4 text-xs text-gray-500 underline">Simulate a friend joining via your link</button>
    </section>

    <section class="mt-12 text-center">
        <h3 class="text-xl font-bold mb-4">Enjoy these apps? Share with your network!</h3>
        <div class="flex items-center justify-center flex-wrap gap-4">
           </div>
    </section>
    
    <script>
        // Original script for app filtering
        const apps = [
          { name: "Prompt Settings Generator", category: "AI Tools", description: "Generate LLM prompt settings via Excel upload.", link: "apps/prompt-settings.html" },
          { name: "Markdown Reader", category: "Utilities", description: "Convert Markdown to responsive HTML with live preview.", link: "apps/markdown-reader.html" },
          { name: "EMI Calculator", category: "Finance", description: "Compute monthly EMIs, total payment, and interest for any loan.", link: "apps/emi-calculator.html" },
          { name: "BMI Calculator", category: "Utilities", description: "Determine your Body Mass Index and health category instantly.", link: "apps/bmi-calculator.html" },
          { name: "Post-It Notes", category: "Utilities", description: "Temporary browser notes: add, delete, and export as JSON, Markdown, or text.", link: "apps/post-it-notes.html" }
        ];
        const grid = document.querySelector('main');
        const filter = document.getElementById('categoryFilter');
        const search = document.getElementById('search');
        function renderApps() { /* ... function from previous step ... */ }
        filter.addEventListener('change', renderApps);
        search.addEventListener('input', renderApps);
        renderApps();

        // New script for viral loop and referral functionality
        document.addEventListener('DOMContentLoaded', () => {
            const pageUrl = 'https://appsthatmatter.onrender.com/';
            const REFERRAL_GOAL = 3;

            // --- 1. Elements ---
            const referralLinkInput = document.getElementById('referralLink');
            const copyReferralBtn = document.getElementById('copyReferralBtn');
            const progressText = document.getElementById('progress-text');
            const progressBar = document.getElementById('progress-bar');
            const rewardUnlockedText = document.getElementById('reward-unlocked');
            const simulateBtn = document.getElementById('simulate-referral');

            // --- 2. State Management (using localStorage for simulation) ---
            let referralCount = parseInt(localStorage.getItem('referralCount') || '0', 10);
            let userId = localStorage.getItem('userId');
            if (!userId) {
                userId = `user_${Date.now().toString(36)}`;
                localStorage.setItem('userId', userId);
            }

            // --- 3. Functions ---
            function updateProgressUI() {
                const percentage = Math.min((referralCount / REFERRAL_GOAL) * 100, 100);
                progressText.textContent = `Your Progress: ${referralCount}/${REFERRAL_GOAL} Friends Invited`;
                progressBar.style.width = `${percentage}%`;

                if (referralCount >= REFERRAL_GOAL) {
                    rewardUnlockedText.classList.remove('hidden');
                    document.body.classList.add('dark-mode'); // Unlock reward
                    simulateBtn.style.display = 'none'; // Hide simulation button after goal is met
                }
            }

            function generateAndSetReferralLink() {
                const uniqueLink = `${pageUrl}?ref=${userId}`;
                referralLinkInput.value = uniqueLink;
                return uniqueLink;
            }

            function setupReferralShareLinks(referralLink) {
                const encodedLink = encodeURIComponent(referralLink);
                const shareText = encodeURIComponent(`Check out Apps That Matter! Use my link to join:`);
                document.getElementById('ref-whatsapp').href = `https://api.whatsapp.com/send?text=${shareText}%20${encodedLink}`;
                document.getElementById('ref-twitter').href = `https://twitter.com/intent/tweet?url=${encodedLink}&text=${shareText}`;
                document.getElementById('ref-email').href = `mailto:?subject=Check%20out%20Apps%20That%20Matter&body=${shareText}%20${referralLink}`;
            }

            // --- 4. Event Listeners ---
            copyReferralBtn.addEventListener('click', () => {
                referralLinkInput.select();
                navigator.clipboard.writeText(referralLinkInput.value);
                const originalText = copyReferralBtn.innerHTML;
                copyReferralBtn.innerHTML = '‚úÖ Copied!';
                setTimeout(() => { copyReferralBtn.innerHTML = originalText; }, 2000);
            });

            // This button is for demonstration purposes to show the progress tracker working
            simulateBtn.addEventListener('click', () => {
                if (referralCount < REFERRAL_GOAL) {
                    referralCount++;
                    localStorage.setItem('referralCount', referralCount);
                    updateProgressUI();
                }
            });

            // --- 5. Initialization ---
            const referralLink = generateAndSetReferralLink();
            setupReferralShareLinks(referralLink);
            updateProgressUI();
        });
    </script>
</body>
</html>
